<!DOCTYPE html>
<html lang="ne">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lok Sewa Online Preparation</title>
<style>
*{box-sizing:border-box}
body{margin:0;font-family:Segoe UI,Arial;background:#eef2ff}
.container{max-width:1000px;margin:15px auto;background:#fff;padding:20px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,.1)}
h1,h2{text-align:center;color:#1f3fb8}
input,button{width:100%;padding:12px;margin-top:10px;font-size:16px;border-radius:8px;border:1px solid #ccc}
button{background:#1f4fd8;color:#fff;border:none;cursor:pointer}
button:hover{background:#163db1}
.menu{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px;margin-top:15px}
.hidden{display:none}
.top{display:flex;justify-content:space-between;background:#f1f4ff;padding:10px;border-radius:8px;font-weight:600}
.q{font-size:18px;margin:15px 0}
.opt label{display:block;background:#f7f9ff;padding:10px;border-radius:8px;margin-bottom:8px;border:1px solid #e0e5ff;cursor:pointer}
.opt label.correct{background:#c8f7c5;border-color:#28a745;color:#000}
.opt label.wrong{background:#f7c5c5;border-color:#dc3545;color:#000}
footer{text-align:center;margin-top:25px;color:#666;font-size:13px}
@media(max-width:600px){.q{font-size:16px}}
</style>
</head>
<body>
<div class="container">

<h1>लोक सेवा तयारी प्लेटफर्म</h1>
<p style="text-align:center;color:#555">Developed by <strong>Abhisha Acharya</strong></p>

<!-- LOGIN -->
<div id="login">
  <h2>विद्यार्थी लगइन</h2>
  <input id="username" placeholder="आफ्नो नाम प्रविष्ट गर्नुहोस्">
  <button onclick="login()">Continue</button>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="hidden">
  <h2 id="welcome"></h2>
  <div class="menu">
    <button onclick="startQuiz('GK')">सामान्य ज्ञान (GK)</button>
    <button onclick="startQuiz('Constitution')">संविधान</button>
    <button onclick="startQuiz('Math')">गणित</button>
    <button onclick="startQuiz('IQ')">IQ / तर्क क्षमता</button>
  </div>
</div>

<!-- QUIZ -->
<div id="quiz" class="hidden">
  <div class="top">
    <span id="timer"></span>
    <span id="counter"></span>
  </div>
  <div class="q" id="question"></div>
  <div class="opt" id="options"></div>
  <button id="nextBtn" onclick="nextQuestion()" disabled>Next</button>
</div>

<!-- RESULT -->
<div id="result" class="hidden">
  <h2>Result</h2>
  <pre id="resultText"></pre>
  <button onclick="goBack()">Dashboard मा फर्कनुहोस्</button>
</div>

<footer>© 2026 Lok Sewa Preparation Platform | Developed by Abhisha Acharya</footer>
</div>

<script>
// ================= QUESTION BANK =================
const bank = {
  GK:[
    {q:"नेपालको राष्ट्रिय फूल कुन हो?", o:["रातो गुराँस","कमल","गुलाब","सेतो फूल"], a:0},
    {q:"नेपालको राष्ट्रिय खेल कुन हो?", o:["कुस्ता","डण्डेबिजि","भलिबल","फुटबल"], a:1},
    {q:"नेपालको राजधानी कहाँ छ?", o:["पोखरा","काठमाडौँ","ललितपुर","विराटनगर"], a:1},
    {q:"नेपालको राष्ट्रिय पशु कुन हो?", o:["गाई","हात्ती","भैँसी","गोरु"], a:0},
    {q:"नेपालको सबैभन्दा अग्लो हिमाल कुन हो?", o:["सगरमाथा","एनापुर्णा","धौलागिरी","मकालु"], a:0}
  ],
  Constitution:[
    {q:"संविधान अनुसार मौलिक अधिकार कुन भागमा छन्?", o:["भाग २","भाग ३","भाग ४","भाग ५"], a:0},
    {q:"राष्ट्रपतिको नियुक्ति अधिकार संविधानले कसलाई दिन्छ?", o:["प्रधानमन्त्री","सभामुख","राष्ट्रपति आफैं","जनता"], a:0},
    {q:"संविधान संशोधनको लागि आवश्यक बहुमत कति?", o:["१/२","२/३","३/४","१/३"], a:1},
    {q:"प्रदेश सभाको कार्यकाल कति वर्षको हुन्छ?", o:["४","५","३","६"], a:0},
    {q:"संविधान अनुसार संघीय संरचना कुन भागमा उल्लेख छ?", o:["भाग १","भाग २","भाग ३","भाग ४"], a:2}
  ],
  Math:[
    {q:"यदि ३x + ७ = २२, x कति हुन्छ?", o:["५","४","६","३"], a:1},
    {q:"१२८ को वर्ग मूल के हो?", o:["११","१२","१०","१४"], a:1},
    {q:"१/४ + ३/८ =", o:["५/८","७/८","१/२","३/४"], a:1},
    {q:"३०% of २०० =", o:["६०","७०","८०","५०"], a:0},
    {q:"१०^३ =", o:["१००","१०००","१०","१००००"], a:1}
  ],
  IQ:[
    {q:"२, ६, १२, २०, ?, ४२; अर्को नम्बर कति?", o:["३०","२८","३२","३४"], a:1},
    {q:"फरक वस्तु फेला पार्नुहोस्: ५, ११, १७, २२, २९", o:["५","११","२२","२९"], a:2},
    {q:"यदि सबै वृत वर्ग हुन् र सबै वर्ग त्रिभुज हुन्, सबै वृत के हुन्?", o:["त्रिभुज","वृत","वर्ग","कुनै होइन"], a:0},
    {q:"५ जनाले ५ भित्ता ५ घण्टामा रंगे भने १ जनाले १ भित्तामा कति घण्टा लाग्छ?", o:["१","५","२५","१०"], a:1},
    {q:"श्रृंखला पूरा गर्नुहोस्: २, ४, ८, १६, ?", o:["३२","२४","३०","२८"], a:0}
  ]
};

// ================= LOGIC =================
let questions=[],index=0,score=0,timeLeft=600,timer;

function login(){
  const name=document.getElementById("username").value.trim();
  if(!name){alert("कृपया नाम प्रविष्ट गर्नुहोस्"); return;}
  document.getElementById("login").classList.add("hidden");
  document.getElementById("dashboard").classList.remove("hidden");
  document.getElementById("welcome").innerText="Welcome, "+name;
}

function startQuiz(type){
  questions=[...bank[type]].sort(()=>Math.random()-0.5);
  index=0; score=0; timeLeft=600;
  document.getElementById("dashboard").classList.add("hidden");
  document.getElementById("quiz").classList.remove("hidden");
  startTimer();
  loadQuestion();
}

function startTimer(){
  updateTimer();
  timer=setInterval(()=>{
    timeLeft--;
    updateTimer();
    if(timeLeft<=0) finishQuiz();
  },1000);
}

function updateTimer(){
  let m=Math.floor(timeLeft/60), s=timeLeft%60;
  document.getElementById("timer").innerText=`Time: ${m}:${s.toString().padStart(2,"0")}`;
}

function loadQuestion(){
  document.getElementById("counter").innerText=`Q ${index+1}/${questions.length}`;
  document.getElementById("question").innerText=questions[index].q;
  const opt=document.getElementById("options");
  opt.innerHTML="";
  document.getElementById("nextBtn").disabled=true;

  questions[index].o.forEach((x,i)=>{
    const label=document.createElement("label");
    label.innerHTML=`<input type="radio" name="opt" value="${i}"> ${x}`;
    label.addEventListener('click',()=>checkAnswer(i,label));
    opt.appendChild(label);
  });
}

function checkAnswer(selectedIndex,label){
  const correctIndex=questions[index].a;
  const labels=document.querySelectorAll(".opt label");
  labels.forEach(l=>{
    l.querySelector("input").disabled=true;
    l.classList.remove("correct","wrong");
  });
  if(selectedIndex===correctIndex){
    label.classList.add("correct");
    score++;
  } else{
    label.classList.add("wrong");
    labels[correctIndex].classList.add("correct");
  }
  document.getElementById("nextBtn").disabled=false;
}

function nextQuestion(){
  index++;
  if(index<questions.length) loadQuestion();
  else finishQuiz();
}

function finishQuiz(){
  clearInterval(timer);
  document.getElementById("quiz").classList.add("hidden");
  document.getElementById("result").classList.remove("hidden");
  let percent=Math.round(score/questions.length*100);
  document.getElementById("resultText").textContent=
`Score: ${score}/${questions.length}
Percentage: ${percent}%
Result: ${percent>=40?"PASS":"FAIL"}`;
}

function goBack(){
  document.getElementById("result").classList.add("hidden");
  document.getElementById("dashboard").classList.remove("hidden");
}
</script>
</body>
</html>
